package persist

import (
	"testing"
)

func Test_reader_readAll(t *testing.T) {
	//// Arrange
	//ctx := context.Background()
	//logChannels := telemetry.StartEmpty()
	//config := map[string]string{
	//	"AccountName": "ofeverdevelopment",
	//	"AccountKey":  "KEY==",
	//}
	//r := &reader{
	//	connectionInfo: config,
	//	logChannels:    logChannels,
	//}
	//send := make(chan []byte)
	//done := make(chan struct{})
	//read := Read{
	//	Series: "athletes",
	//	Path:   "",
	//	Send:   send,
	//	Done:   done,
	//}
	//
	//// Act
	//var received []string
	//go func(s <-chan []byte) {
	//	for {
	//		b := <- s
	//		received = append(received, string(b))
	//	}
	//}(send)
	//go r.readAll(ctx, read)
	//
	//<-done
	//
	//x := len(received)
	//_ = x
}
